const moveAndFix = (el: HTMLElement, anchorEl?: HTMLElement | null) => {
  try {
    if (!root.contains(el)) {
      root.appendChild(el);
    }

    // Prevent outside click / blur
    el.addEventListener('mousedown', e => e.stopPropagation());
    el.addEventListener('click', e => e.stopPropagation());

    applyFixedPosition(el, anchorEl);

    // âœ… RESTORE FOCUS (IMPORTANT)
    requestAnimationFrame(() => {
      const focusable =
        el.querySelector<HTMLElement>(
          '.k-menu-item, .k-item, .k-link, [tabindex]'
        );

      focusable?.focus();
    });
  } catch (e) {
    // ignore
  }
};
