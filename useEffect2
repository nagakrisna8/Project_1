if (text && text.trim().length > 0) {
  selectedTextRef.current = text;     // âœ… ADD
  setSelectedText(text);
  setSelectionRange({ start: from, end: to });
  const el = UpdateAnchor(from);
  setAnchorEl(el || undefined);
  (window as any).__kendoAnchorForInlineAI = el || undefined;
  setShowPrompt(true);
}

const onCommandExecute = (commandData: CommandItemInterface) => {
  const text = selectedTextRef.current;

  if (!commandData?.prompt || !text) return;

  const prompt = commandData.prompt(text);
  onPromptRequest(prompt);
};

